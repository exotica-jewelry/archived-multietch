{{/*
  Trimming the slash and adding absURL make sure images work no matter where our
  site lives.
*/}}
{{ $featured_image := .Param "featured_image" | default "images/header.jpg" }}
{{ $featured_image := (trim $featured_image "/") | absURL }}
{{ $logo := (trim .Site.Params.logo "/") | absURL }}

{{ if $featured_image }}
  <header class="cover bg-top" style="background-image: url('{{ $featured_image }}');">
    <div class="bg-black-10">
      {{ partial "site-navigation.html" .}}
      <div class="tc-m tc-l pv0 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 mt0 lh-title">
          <span class="dn">{{ .Title | default .Site.Title }}</span>
          <img src="{{ $logo }}" alt="{{ .Title | default .Site.Title }}: A safer alternative since 1993" />
        </h1>
        {{ with .Params.description }}
          <h2 class="pv2 fw6 fw3-l f4 f2-l white-80 measure-wide-l tc center mt3 mb0">
            {{ . }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>
{{ else }}
  <header>
    <div class="pb3-m pb6-l {{ .Site.Params.background_color_class | default "bg-black" }}">
      {{ partial "site-navigation.html" . }}
      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          {{ .Title | default .Site.Title }}
        </h1>
        {{ with .Params.description }}
          <h2 class="fw1 f5 f3-l white-80 measure-wide-l center lh-copy mt3 mb4">
            {{ . }}
          </h2>
        {{ end }}
      </div>
    </div>
  </header>
{{ end }}
